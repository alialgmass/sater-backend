{
  "info": {
    "name": "Sater Backend API Collection",
    "description": "Comprehensive API collection for Sater Backend including consolidated checkout, unified cart (guest/auth), product reviews, and advanced catalog filtering.",
    "version": "1.3.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collections.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\",\n  \"password_confirmation\": \"password123\",\n  \"phone\": \"+123456789\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/register",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "register"
              ]
            }
          },
          "response": [
            {
              "name": "Success Response",
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "body": "{\n  \"message\": \"Customer registered successfully.\",\n  \"data\": {\n    \"auth\": {\n      \"customer\": { \"id\": 1, \"name\": \"John Doe\" },\n      \"token\": \"1|xyz...\",\n      \"requires_otp\": true\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\",\n  \"device_name\": \"mobile_app\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/login",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "login"
              ]
            }
          },
          "response": [
            {
              "name": "Success Response",
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "body": "{\n  \"message\": \"Login successful.\",\n  \"data\": {\n    \"auth\": {\n      \"customer\": { \"id\": 1, \"name\": \"John Doe\" },\n      \"token\": \"2|abc...\",\n      \"requires_otp\": false\n    }\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Products & Catalog",
      "item": [
        {
          "name": "List Products (Filters & Sort)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products?featured=1&sort=popular&per_page=12",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "products"
              ],
              "query": [
                {
                  "key": "featured",
                  "value": "1"
                },
                {
                  "key": "sort",
                  "value": "popular"
                },
                {
                  "key": "per_page",
                  "value": "12"
                }
              ]
            }
          }
        },
        {
          "name": "Get Product Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/1",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "products",
                "1"
              ]
            }
          }
        },
        {
          "name": "Categories Index",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/categories",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "categories"
              ]
            }
          }
        },
        {
          "name": "Search Products",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/search/products?q=shirt",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "search",
                "products"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "shirt"
                }
              ]
            }
          }
        },
        {
          "name": "Search Autocomplete",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/search/autocomplete?q=shi",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "search",
                "autocomplete"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "shi"
                }
              ]
            }
          }
        },
        {
          "name": "Attributes",
          "item": [
            {
              "name": "List Colors",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/colors",
                  "protocol": "http",
                  "host": [
                    "{{hostname}}"
                  ],
                  "port": "{{port}}",
                  "path": [
                    "api",
                    "v1",
                    "colors"
                  ]
                }
              }
            },
            {
              "name": "List Sizes",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/sizes",
                  "protocol": "http",
                  "host": [
                    "{{hostname}}"
                  ],
                  "port": "{{port}}",
                  "path": [
                    "api",
                    "v1",
                    "sizes"
                  ]
                }
              }
            },
            {
              "name": "List Tags",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/tags",
                  "protocol": "http",
                  "host": [
                    "{{hostname}}"
                  ],
                  "port": "{{port}}",
                  "path": [
                    "api",
                    "v1",
                    "tags"
                  ]
                }
              }
            }
          ]
        },
        {
          "name": "Search History",
          "item": [
            {
              "name": "Get History",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/search/history",
                  "protocol": "http",
                  "host": [
                    "{{hostname}}"
                  ],
                  "port": "{{port}}",
                  "path": [
                    "api",
                    "v1",
                    "search",
                    "history"
                  ]
                }
              }
            },
            {
              "name": "Clear All History",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/search/history",
                  "protocol": "http",
                  "host": [
                    "{{hostname}}"
                  ],
                  "port": "{{port}}",
                  "path": [
                    "api",
                    "v1",
                    "search",
                    "history"
                  ]
                }
              }
            },
            {
              "name": "Delete History Item",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/search/history/1",
                  "protocol": "http",
                  "host": [
                    "{{hostname}}"
                  ],
                  "port": "{{port}}",
                  "path": [
                    "api",
                    "v1",
                    "search",
                    "history",
                    "1"
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Cart Management",
      "item": [
        {
          "name": "Get Cart",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "X-Cart-Key",
                "value": "{{guest_cart_key}}",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/cart",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "cart"
              ]
            }
          }
        },
        {
          "name": "Add to Cart",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 1,\n  \"quantity\": 1,\n  \"cart_key\": \"{{guest_cart_key}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/cart/add",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "cart",
                "add"
              ]
            }
          }
        },
        {
          "name": "Update Item Quantity",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 3,\n  \"cart_key\": \"{{guest_cart_key}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/cart/items/1",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "cart",
                "items",
                "1"
              ]
            }
          }
        },
        {
          "name": "Remove Item",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/cart/items/1?cart_key={{guest_cart_key}}",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "cart",
                "items",
                "1"
              ],
              "query": [
                {
                  "key": "cart_key",
                  "value": "{{guest_cart_key}}"
                }
              ]
            }
          }
        },
        {
          "name": "Clear Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/cart?cart_key={{guest_cart_key}}",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "cart"
              ],
              "query": [
                {
                  "key": "cart_key",
                  "value": "{{guest_cart_key}}"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Wishlist",
      "item": [
        {
          "name": "Toggle Wishlist",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/wishlist/toggle",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "wishlist",
                "toggle"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Reviews",
      "item": [
        {
          "name": "Get Product Reviews",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/reviews?product_id=1",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "reviews"
              ],
              "query": [
                {
                  "key": "product_id",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "Post Review",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 1,\n  \"rating\": 5,\n  \"comment\": \"Excellent product!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/reviews",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "reviews"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Checkout",
      "item": [
        {
          "name": "Process Checkout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"country\": \"SA\",\n    \"city\": \"Riyadh\",\n    \"street\": \"King Fahd Rd\"\n  },\n  \"shipping_method\": \"standard\",\n  \"payment_method\": \"cod\",\n  \"coupon_code\": \"SAVE10\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/checkout",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "checkout"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Vendors",
      "item": [
        {
          "name": "Get Vendor Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/vendors/1",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "vendors",
                "1"
              ]
            }
          }
        },
        {
          "name": "Get Vendor Products",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/vendors/1/products",
              "protocol": "http",
              "host": [
                "{{hostname}}"
              ],
              "port": "{{port}}",
              "path": [
                "api",
                "v1",
                "vendors",
                "1",
                "products"
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://sater.test"
    },
    {
      "key": "hostname",
      "value": "sater.test"
    },
    {
      "key": "port",
      "value": "80"
    },
    {
      "key": "token",
      "value": ""
    },
    {
      "key": "vendor_token",
      "value": ""
    },
    {
      "key": "guest_cart_key",
      "value": ""
    }
  ]
}